<div bsModal #formModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button class="close" (click)="close()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title">{{title}}</h4>
      </div>
      <div class="modal-body" *ngIf="model">
        <form (ngSubmit)="save()" #predictionForm="ngForm">
          <div class="form-group" [class.has-danger]="searchFailed">
            <input type="text" class="form-control" (selectItem)="categoryOnSelect($event)" [inputFormatter]="formatter"  [(ngModel)]="model.categoryText" name="category" [ngbTypeahead]="search" placeholder="Wikipedia search" />
            <span *ngIf="searching">searching...</span>
            <div class="form-control-feedback" *ngIf="searchFailed">Sorry, suggestions could not be loaded.</div>
          </div>
          <div class="form-group">
            <label for="category">Category</label>
            <input id="category" name="category" [(ngModel)]="model.categoryText" [typeahead]="categoryDataSource" (typeaheadLoading)="changeTypeaheadLoading($event)"
              (typeaheadNoResults)="changeTypeaheadNoResults($event)" (typeaheadOnSelect)="categoryOnSelect($event)" [typeaheadOptionsLimit]="10"
              [typeaheadOptionField]="'text'" placeholder="Search Categories" class="form-control" #category="ngModel">
            <div [hidden]="category.valid || category.pristine" class="alert alert-danger">
              Category is required
            </div>
          </div>
          <div class="form-group">
            <label for="text">Prediction</label>
            <textarea type="text" class="form-control" id="text" required [(ngModel)]="model.text" name="text" #text="ngModel"></textarea>
            <div [hidden]="text.valid || text.pristine" class="alert alert-danger">
              Prediction is required
            </div>
          </div>
          <div class="form-group">
            <label for="publishDate">Publish Time</label>
            <!--<select name="publishYear" id="inputPublishYear" class="form-control" required [(ngModel)]="publishYear" name="publishYear"
              (ngModelChange)="publishYearChanged($event)" #publishYear="ngModel">
               <option value="y" *ngFor="let y of publishYears">
                  {{y}}
              </option>
            </select>-->
            <div class="input-group">
              <input class="form-control" (ngModelChange)="publishDateChanged($event)" [minDate]="pbMinDate" placeholder="yyyy-mm-dd" name="publishDate"
                [(ngModel)]="pbDate" ngbDatepicker #publishDate="ngbDatepicker">
              <div class="input-group-addon" (click)="publishDate.toggle()">
                <i class="fa fa-calender" style="width: 1.2rem; height: 1rem; cursor: pointer;"></i>
              </div>
            </div>
            <div class="input-group">
              <ngb-timepicker [(ngModel)]="pbTime" (ngModelChange)="publishTimeChanged($event)" [seconds]="false" name="publishDate"></ngb-timepicker>
            </div>
            <!--<select name="publishMonth" id="inputPublishMonth" class="form-control">
              <option value="m" *ngFor="let m of publishMonths" required
                [(ngModel)]="publishMonth" name="publishMonth" (ngModelChange)="publishMonthChanged($event)"
                #publishMonth="ngModel">
                {{m}}
              </option>
            </select>
            <select name="publishDay" id="inputPublishDay" class="form-control">
              <option value="d" *ngFor="let d of publishDays" required
                [(ngModel)]="publishDay" name="publishDay"
                #publishDay="ngModel">
                {{d}}
              </option>
            </select>-->
            <!--<select name="publishYear" id="inputPublishYear" class="form-control">
              <option value="year" *ngFor="let year of years" required
                [(ngModel)]="publishYear" name="publishYear"
                #publishYear="ngModel">
                {{year}}
              </option>
            </select>
            <select name="publishYear" id="inputPublishYear" class="form-control">
              <option value="year" *ngFor="let year of years" required
                [(ngModel)]="publishYear" name="publishYear"
                #publishYear="ngModel">
                {{year}}
              </option>
            </select>-->
            <div [hidden]="text.valid || text.pristine" class="alert alert-danger">
              Prediction is required
            </div>
          </div>
          <button type="submit" class="btn btn-default" [disabled]="!predictionForm.form.valid">Submit</button>
        </form>
      </div>
      <div class="modal-footer">
        <!--<button class="btn btn-primary confirm-btn" (click)="close()">Save changes</button>-->
      </div>
    </div>
  </div>
</div>
